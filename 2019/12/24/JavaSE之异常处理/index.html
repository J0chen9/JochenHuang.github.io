<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>JavaSE之异常处理 | RhubarbC的博客</title><meta name="description" content="关于Java的个人学习之路！本文将介绍Java开发中经常要用到的异常处理"><meta name="keywords" content="JavaSE,java,异常处理,基础"><meta name="author" content="Rhubarb C"><meta name="copyright" content="Rhubarb C"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="canonical" href="http://yoursite.com/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="JavaSE之异常处理"><meta name="twitter:description" content="关于Java的个人学习之路！本文将介绍Java开发中经常要用到的异常处理"><meta name="twitter:image" content="http://yoursite.com/img/cover_default2.jpg"><meta property="og:type" content="article"><meta property="og:title" content="JavaSE之异常处理"><meta property="og:url" content="http://yoursite.com/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/"><meta property="og:site_name" content="RhubarbC的博客"><meta property="og:description" content="关于Java的个人学习之路！本文将介绍Java开发中经常要用到的异常处理"><meta property="og:image" content="http://yoursite.com/img/cover_default2.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="prev" title="C语言基础之指针" href="http://yoursite.com/2020/01/20/C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E4%B9%8B%E6%8C%87%E9%92%88/"><link rel="next" title="JavaSE之面向对象" href="http://yoursite.com/2019/11/25/JavaSE%E4%B9%8B%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://deehuang.github.io/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight_copy: 'true',
  highlight_lang: 'true',
  highlight_shrink: 'false',
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: '添加书签',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  copyright: {"languages":{"author":"作者: Rhubarb C","link":"链接: http://yoursite.com/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/","source":"来源: RhubarbC的博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  copy_copyright_js: true
  
}</script></head><body><canvas class="fireworks"></canvas><div id="header"> <div id="page-header"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">RhubarbC的博客</a></span><i class="fa fa-bars fa-fw toggle-menu pull-right close" aria-hidden="true"></i><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></span><span class="pull-right" id="search_button"></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lozad avatar_img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'"></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">19</div></a></div></div><div class="mobile_data_item is_center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">33</div></a></div></div><div class="mobile_data_item is_center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">11</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#异常概述与异常体系结构"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">异常概述与异常体系结构</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#异常概述"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">异常概述</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#异常体系结构"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">异常体系结构</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#常见异常"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">常见异常</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#异常处理"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">异常处理</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#异常处理机制一：try-catch-finally"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">异常处理机制一：try-catch-finally</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#异常处理机制二：throws"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">异常处理机制二：throws</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#手动抛出异常：throw"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">手动抛出异常：throw</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#用户自定义异常类"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">用户自定义异常类</span></a></li></ol></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#异常概述与异常体系结构"><span class="toc-number">1.</span> <span class="toc-text">异常概述与异常体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#异常概述"><span class="toc-number">1.1.</span> <span class="toc-text">异常概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#异常体系结构"><span class="toc-number">1.2.</span> <span class="toc-text">异常体系结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常见异常"><span class="toc-number">1.3.</span> <span class="toc-text">常见异常</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#异常处理"><span class="toc-number">2.</span> <span class="toc-text">异常处理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#异常处理机制一：try-catch-finally"><span class="toc-number">2.1.</span> <span class="toc-text">异常处理机制一：try-catch-finally</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#异常处理机制二：throws"><span class="toc-number">2.2.</span> <span class="toc-text">异常处理机制二：throws</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#手动抛出异常：throw"><span class="toc-number">3.</span> <span class="toc-text">手动抛出异常：throw</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#用户自定义异常类"><span class="toc-number">4.</span> <span class="toc-text">用户自定义异常类</span></a></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(/img/cover_default2.jpg)"><div id="post-info"><div id="post-title"><div class="posttitle">JavaSE之异常处理</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2019-12-24<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> 更新于 2019-12-30</time><span class="post-meta__separator mobile_hidden">|</span><span class="mobile_hidden"><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Java/">Java</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Java/JavaSE/">JavaSE</a></span><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">3.6k</span><span class="post-meta__separator">|</span><span>阅读时长: 13 分钟</span><span class="post-meta__separator">|</span><span>阅读量: </span><span id="busuanzi_value_page_pv"></span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><blockquote>
<p>在使用计算机语言进行项目开发的过程中，即使程序员把代码写得尽善尽美， 在系统的运行过程中仍然会遇到一些问题，因为很多问题不是靠代码能够避 免的，比如：客户输入数据的格式，读取文件是否存在，网络是否始终保持通畅等等。不同的语言中有自己的异常处理机制。因为在写代码中经常会出现异常，所以也把异常处理的内容归到Java基础中去介绍</p>
</blockquote>
<h1 id="异常概述与异常体系结构"><a href="#异常概述与异常体系结构" class="headerlink" title="异常概述与异常体系结构"></a>异常概述与异常体系结构</h1><h2 id="异常概述"><a href="#异常概述" class="headerlink" title="异常概述"></a>异常概述</h2><p><img alt data-src="/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/1.jpg" class="lozad"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Error:</span></span><br><span class="line"><span class="comment"> * Java虚拟机无法解决的严重问题。如：JVM系统内部错误、资源耗尽等严重情况。比如：StackOverflowError和OOM。</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 一般不编写针对性的代码进行处理。</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ErrorTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//1.栈溢出：java.lang.StackOverflowError</span></span><br><span class="line"><span class="comment">//		main(args);</span></span><br><span class="line">		<span class="comment">//2.堆溢出：java.lang.OutOfMemoryError 简称OOM</span></span><br><span class="line">		Integer[] arr = <span class="keyword">new</span> Integer[<span class="number">1024</span>*<span class="number">1024</span>*<span class="number">1024</span>];</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img alt data-src="/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/4.jpg" class="lozad"></p>
<p><img alt data-src="/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/2.jpg" class="lozad"></p>
<h2 id="异常体系结构"><a href="#异常体系结构" class="headerlink" title="异常体系结构"></a>异常体系结构</h2><p>整个异常的体系结构是一种继承关系：</p>
<p><img alt data-src="/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/3.jpg" class="lozad"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 一、异常体系结构</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * java.lang.Throwable</span></span><br><span class="line"><span class="comment"> * 		|-----java.lang.Error:一般不编写针对性的代码进行处理。</span></span><br><span class="line"><span class="comment"> * 		|-----java.lang.Exception:可以进行异常的处理</span></span><br><span class="line"><span class="comment"> * 			|------编译时异常(checked)</span></span><br><span class="line"><span class="comment"> * 					|-----IOException</span></span><br><span class="line"><span class="comment"> * 						|-----FileNotFoundException</span></span><br><span class="line"><span class="comment"> * 					|-----ClassNotFoundException</span></span><br><span class="line"><span class="comment"> * 			|------运行时异常(unchecked,RuntimeException)</span></span><br><span class="line"><span class="comment"> * 					|-----NullPointerException</span></span><br><span class="line"><span class="comment"> * 					|-----ArrayIndexOutOfBoundsException</span></span><br><span class="line"><span class="comment"> * 					|-----ClassCastException</span></span><br><span class="line"><span class="comment"> * 					|-----NumberFormatException</span></span><br><span class="line"><span class="comment"> * 					|-----InputMismatchException</span></span><br><span class="line"><span class="comment"> * 					|-----ArithmeticException</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 面试题：常见的异常都有哪些？举例说明</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<p><strong>运行时异常：</strong></p>
<ul>
<li><p>是指编译器不要求强制处置的异常。一般是指编程时的逻辑错误，是程序 员应该积极避免其出现的异常。<strong>java.lang.RuntimeException</strong>类及它的子类都是运行时异常。 </p>
</li>
<li><p>对于这类异常，可以不作处理，因为这类异常很普遍，若全处理可能会对 </p>
</li>
</ul>
<p>程序的可读性和运行效率产生影响。 </p>
<p><strong>编译时异常：</strong></p>
<ul>
<li>是指编译器要求必须处置的异常。即程序在运行时由于外界因素造成的一 般性异常。编译器要求Java程序必须捕获或声明所有编译时异常。</li>
<li>对于这类异常，如果程序不处理，可能会带来意想不到的结果</li>
</ul>
<p>编译时异常即在执行j<code>avac Java源文件</code>编译的时候报的异常，不会生成相应的字节码文件</p>
<p>运行时异常时执行<code>java 字节码文件</code>的时候报的异常</p>
<h2 id="常见异常"><a href="#常见异常" class="headerlink" title="常见异常"></a>常见异常</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 一、异常体系结构</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * java.lang.Throwable</span></span><br><span class="line"><span class="comment"> * 		|-----java.lang.Error:一般不编写针对性的代码进行处理。</span></span><br><span class="line"><span class="comment"> * 		|-----java.lang.Exception:可以进行异常的处理</span></span><br><span class="line"><span class="comment"> * 			|------编译时异常(checked)</span></span><br><span class="line"><span class="comment"> * 					|-----IOException</span></span><br><span class="line"><span class="comment"> * 						|-----FileNotFoundException</span></span><br><span class="line"><span class="comment"> * 					|-----ClassNotFoundException</span></span><br><span class="line"><span class="comment"> * 			|------运行时异常(unchecked,RuntimeException)</span></span><br><span class="line"><span class="comment"> * 					|-----NullPointerException</span></span><br><span class="line"><span class="comment"> * 					|-----ArrayIndexOutOfBoundsException</span></span><br><span class="line"><span class="comment"> * 					|-----ClassCastException</span></span><br><span class="line"><span class="comment"> * 					|-----NumberFormatException</span></span><br><span class="line"><span class="comment"> * 					|-----InputMismatchException</span></span><br><span class="line"><span class="comment"> * 					|-----ArithmeticException</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 面试题：常见的异常都有哪些？举例说明</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTest</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//******************以下是运行时异常***************************</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//IndexOutOfBoundsException</span></span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">		</span><br><span class="line"><span class="comment">//		int[] arr = null;</span></span><br><span class="line"><span class="comment">//		System.out.println(arr[3]);//空指针异常</span></span><br><span class="line">		</span><br><span class="line">		String str = <span class="string">"abc"</span>;</span><br><span class="line">		str = <span class="keyword">null</span>;</span><br><span class="line">		System.out.println(str.charAt(<span class="number">0</span>));</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">	<span class="comment">//NullPointerException	</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="comment">//ArrayIndexOutOfBoundsException</span></span><br><span class="line"><span class="comment">//		int[] arr = new int[10];</span></span><br><span class="line"><span class="comment">//		System.out.println(arr[10]);</span></span><br><span class="line">		<span class="comment">//StringIndexOutOfBoundsException</span></span><br><span class="line">		String str = <span class="string">"abc"</span>;<span class="comment">//str底层就是一个char型数组</span></span><br><span class="line">		System.out.println(str.charAt(<span class="number">3</span>));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">    <span class="comment">//ClassCastException 类型转换异常 </span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line">		Object obj = <span class="keyword">new</span> Date();</span><br><span class="line">		String str = (String)obj;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//NumberFormatException</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span></span>&#123;</span><br><span class="line">		</span><br><span class="line">		String str = <span class="string">"123"</span>;</span><br><span class="line">		str = <span class="string">"abc"</span>;</span><br><span class="line">		<span class="keyword">int</span> num = Integer.parseInt(str);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//InputMismatchException</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test5</span><span class="params">()</span></span>&#123;</span><br><span class="line">		Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">int</span> score = scanner.nextInt();</span><br><span class="line">		System.out.println(score);</span><br><span class="line">		</span><br><span class="line">		scanner.close();</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//ArithmeticException 算术异常</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test6</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">		<span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">		System.out.println(a / b);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">	<span class="comment">//******************以下是编译时异常***************************</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test7</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//		File file = new File("hello.txt");</span></span><br><span class="line"><span class="comment">//		FileInputStream fis = new FileInputStream(file);</span></span><br><span class="line"><span class="comment">//		</span></span><br><span class="line"><span class="comment">//		int data = fis.read();</span></span><br><span class="line"><span class="comment">//		while(data != -1)&#123;</span></span><br><span class="line"><span class="comment">//			System.out.print((char)data);</span></span><br><span class="line"><span class="comment">//			data = fis.read();</span></span><br><span class="line"><span class="comment">//		&#125;</span></span><br><span class="line"><span class="comment">//		</span></span><br><span class="line"><span class="comment">//		fis.close();</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h1><p><img alt data-src="/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/5.jpg" class="lozad"></p>
<p><img alt data-src="/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/6.jpg" class="lozad"></p>
<p><img alt data-src="/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/7.jpg" class="lozad"></p>
<p><img alt data-src="/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/8.jpg" class="lozad"></p>
<h2 id="异常处理机制一：try-catch-finally"><a href="#异常处理机制一：try-catch-finally" class="headerlink" title="异常处理机制一：try-catch-finally"></a>异常处理机制一：try-catch-finally</h2><p><img alt data-src="/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/9.jpg" class="lozad"></p>
<p>代码来看：</p>
<p>先简单的看try-catch结构：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 一、异常的处理：抓抛模型</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 过程一："抛"：程序在正常执行的过程中，一旦出现异常，就会在异常代码处生成一个对应异常类的对象。</span></span><br><span class="line"><span class="comment"> *           并将此对象抛出。</span></span><br><span class="line"><span class="comment"> *           一旦抛出对象以后，其后的代码就不再执行。</span></span><br><span class="line"><span class="comment"> * 		</span></span><br><span class="line"><span class="comment"> * 		关于异常对象的产生：① 系统自动生成的异常对象</span></span><br><span class="line"><span class="comment"> * 					    ② 手动的生成一个异常对象，并抛出（throw）</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 过程二："抓"：可以理解为异常的处理方式：① try-catch-finally  ② throws</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 二、try-catch-finally的使用</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * try&#123;</span></span><br><span class="line"><span class="comment"> * 		//可能出现异常的代码</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * &#125;catch(异常类型1 变量名1)&#123;</span></span><br><span class="line"><span class="comment"> * 		//处理异常的方式1</span></span><br><span class="line"><span class="comment"> * &#125;catch(异常类型2 变量名2)&#123;</span></span><br><span class="line"><span class="comment"> * 		//处理异常的方式2</span></span><br><span class="line"><span class="comment"> * &#125;catch(异常类型3 变量名3)&#123;</span></span><br><span class="line"><span class="comment"> * 		//处理异常的方式3</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> * ....</span></span><br><span class="line"><span class="comment"> * finally&#123;</span></span><br><span class="line"><span class="comment"> * 		//一定会执行的代码</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 说明：</span></span><br><span class="line"><span class="comment"> * 1. finally是可选的。</span></span><br><span class="line"><span class="comment"> * 2. 使用try将可能出现异常代码包装起来，在执行过程中，一旦出现异常，就会生成一个对应异常类的对象，根据此对象的类型，去catch中进行匹配</span></span><br><span class="line"><span class="comment"> * 3. 一旦try中的异常对象匹配到某一个catch时，就进入catch中进行异常的处理。一旦处理完成，就跳出当前的</span></span><br><span class="line"><span class="comment"> *    try-catch结构（在没有写finally的情况）。继续执行其后的代码</span></span><br><span class="line"><span class="comment"> * 4. catch中的异常类型如果没有子父类关系，则谁声明在上，谁声明在下无所谓。</span></span><br><span class="line"><span class="comment"> *    catch中的异常类型如果满足子父类关系，则要求子类一定声明在父类的上面。否则，报错</span></span><br><span class="line"><span class="comment"> * 5. 常用的异常对象处理的方式： ① String  getMessage()    ② printStackTrace()</span></span><br><span class="line"><span class="comment"> * 6. 在try结构中声明的变量，再出了try结构以后，就不能再被调用</span></span><br><span class="line"><span class="comment"> * 7. try-catch-finally结构可以嵌套</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 体会1：使用try-catch-finally处理编译时异常，使得程序在编译时就不再报错，但是运行时仍可能报错。</span></span><br><span class="line"><span class="comment"> *     相当于我们使用try-catch-finally将一个编译时可能出现的异常，延迟到运行时出现。</span></span><br><span class="line"><span class="comment"> *     </span></span><br><span class="line"><span class="comment"> * 体会2：开发中，由于运行时异常比较常见，所以我们通常就不针对运行时异常编写try-catch-finally了。</span></span><br><span class="line"><span class="comment"> *      针对于编译时异常，我们说一定要考虑异常的处理。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTest</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		String str = <span class="string">"123"</span>;</span><br><span class="line">		str = <span class="string">"abc"</span>;</span><br><span class="line">		<span class="comment">//使用try将可能出现异常代码包装起来，在执行过程中</span></span><br><span class="line">		<span class="comment">//一旦出现异常，就会生成一个对应异常类的对象，根据此对象的类型，去catch中进行匹配</span></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">		<span class="keyword">int</span> num = Integer.parseInt(str);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"hello---1"</span>);<span class="comment">//上面抛出异常，这里不会执行</span></span><br><span class="line">		<span class="comment">//一旦try中的异常对象匹配到某一个catch时，就进入catch中进行异常的处理。</span></span><br><span class="line">		<span class="comment">//一旦处理完成，就跳出当前的try-catch结构（在没有写finally的情况）。继续执行其后的代码</span></span><br><span class="line">		&#125;<span class="keyword">catch</span>(NumberFormatException e ) &#123;</span><br><span class="line"><span class="comment">//			System.out.println("出现数制转换异常了，别慌~");</span></span><br><span class="line">			<span class="comment">//处理异常对象 常用的方式 --输出错误信息：</span></span><br><span class="line">			<span class="comment">//String getMessage() ---要用字符串类型去接收返回值</span></span><br><span class="line">			System.out.println(e.getMessage());</span><br><span class="line">			<span class="comment">//printStackTrace() //void方法不用类型接收,错误信息更详细(包括那行出现问题了)</span></span><br><span class="line"><span class="comment">//			e.printStackTrace();</span></span><br><span class="line">			</span><br><span class="line">		&#125;<span class="keyword">catch</span>(NullPointerException e) &#123;</span><br><span class="line">			System.out.println(<span class="string">"出现了空指针异常了，别慌~"</span>);</span><br><span class="line">			</span><br><span class="line">		<span class="comment">// catch中的异常类型如果满足子父类关系，则要求子类一定声明在父类的上面。否则，报错</span></span><br><span class="line">		<span class="comment">//因为进来后直接就会进入父类的catch结构，后面的没有执行的机会</span></span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e) &#123;</span><br><span class="line">			System.out.println(<span class="string">"出现异常了，莫慌"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line"><span class="comment">//		System.out.println(num);//报错，在try里面声明的变量出了结构后就不能再被调用</span></span><br><span class="line">		System.out.println(<span class="string">"hello---2"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>finally结构在上面其实是可选项，下面来看下他的使用</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * try-catch-finally中finally的使用：</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 1.finally是可选的</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 2.finally中声明的是一定会被执行的代码。即使catch中又出现异常了，try中有return语句，catch中有return语句等情况。</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 3.像数据库连接、输入输出流、网络编程Socket等资源，JVM是不能自动的回收的，我们需要自己手动的进行资源的释放。此时的资源释放，就需要声明在finally中。</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FinallyTest</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			<span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">			<span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">			System.out.println(a / b);</span><br><span class="line">			</span><br><span class="line">		&#125;<span class="keyword">catch</span>(ArithmeticException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			</span><br><span class="line"><span class="comment">//			int[] arr = new int[10];</span></span><br><span class="line"><span class="comment">//			System.out.println(arr[10]);//catch中又出现异常，finally也会执行</span></span><br><span class="line">			</span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line"><span class="comment">//		System.out.println("我好帅啊！！！~~");</span></span><br><span class="line">		<span class="comment">//这里发现结构体外的代码和finally在处理完异常后都会执行，这有啥区别？</span></span><br><span class="line">		<span class="comment">//如果是在一个方法中try结构有了return 或catch中又出现异常了那么finally的作用就体现出来了：一定会被执行：</span></span><br><span class="line">		<span class="keyword">finally</span>&#123;</span><br><span class="line">			System.out.println(<span class="string">"我好帅啊~~"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//finally一定会被执行的例子---方法中return</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testMethod</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">int</span> num = method();</span><br><span class="line">		System.out.println(num);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">method</span><span class="params">()</span></span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			<span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line">			System.out.println(arr[<span class="number">10</span>]);</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		&#125;<span class="keyword">catch</span>(ArrayIndexOutOfBoundsException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			<span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			System.out.println(<span class="string">"我一定会被执行"</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//try-catch-finally结构可以嵌套</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">		FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			File file = <span class="keyword">new</span> File(<span class="string">"hello1.txt"</span>);</span><br><span class="line">			fis = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">int</span> data = fis.read();</span><br><span class="line">			<span class="keyword">while</span>(data != -<span class="number">1</span>)&#123;</span><br><span class="line">				System.out.print((<span class="keyword">char</span>)data);</span><br><span class="line">				data = fis.read();</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">if</span>(fis != <span class="keyword">null</span>)</span><br><span class="line">					fis.close();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面可以看到，对于运行时异常，我们使用try-catch-finally好像处理的结果和自然报错的并没有什么不同(我们一般也会使用<code>printStackTrace()</code>打印错误信息)，所以运行时异常一般去进行异常处理(可能发生问题的情况太多了，全都写显得代码臃肿的不像话)。而对于编译型异常我们不使用try-catch编译都过不去，所以try-catch-finally实际上是把编译异常推到运行时去了！</p>
<p>记住一点：Java能自己捕获RuntimeException类和它的子类，并且编译也能通过！</p>
<p><img alt data-src="/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/10.jpg" class="lozad"></p>
<h2 id="异常处理机制二：throws"><a href="#异常处理机制二：throws" class="headerlink" title="异常处理机制二：throws"></a>异常处理机制二：throws</h2><p><img alt data-src="/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/11.jpg" class="lozad"></p>
<p>咱们直接写代码来体会：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 异常处理的方式二：throws + 异常类型</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 1. "throws + 异常类型"写在方法的声明处。指明此方法执行时，可能会抛出的异常类型。</span></span><br><span class="line"><span class="comment"> *     一旦当方法体执行时，出现异常，仍会在异常代码处生成一个异常类的对象，此对象满足throws后异常</span></span><br><span class="line"><span class="comment"> *     类型时，就会被抛出。异常代码后续的代码，就不再执行！</span></span><br><span class="line"><span class="comment"> *     </span></span><br><span class="line"><span class="comment"> * 2. 体会：try-catch-finally:真正的将异常给处理掉了。</span></span><br><span class="line"><span class="comment"> *        throws的方式只是将异常抛给了方法的调用者。  并没有真正将异常处理掉。  </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTest2</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">		<span class="comment">//main方法再往上抛异常就不合适了，所以终究还是得在这里处理</span></span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			method2();</span><br><span class="line">			</span><br><span class="line">		&#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line"><span class="comment">//		method3();//已经处理好了异常这里调用就不用处理了</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method3</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			method2();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">//IOException是FileNotFoundException父类所以只写IOException也罩得住</span></span><br><span class="line">		method1();<span class="comment">//method1的异常此时就抛到了method2去了</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//把异常抛给调用者</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException,IOException</span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"hello1.txt"</span>);</span><br><span class="line">		FileInputStream fis = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">int</span> data = fis.read();</span><br><span class="line">		<span class="keyword">while</span>(data != -<span class="number">1</span>)&#123;</span><br><span class="line">			System.out.print((<span class="keyword">char</span>)data);</span><br><span class="line">			data = fis.read();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		fis.close();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"hahaha!"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img alt data-src="/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/12.jpg" class="lozad"></p>
<p>开发中如何选择使用try-catch-finally 还是使用throws？</p>
<ul>
<li>如果父类中被重写的方法没有throws方式处理异常，则子类重写的方法也不能使用throws，意味着如果子类重写的方法中有异常，必须使用try-catch-finally方式处理。</li>
<li>执行的方法a中，先后又调用了另外的几个方法，这几个方法是递进关系执行的。我们建议这几个方法使用throws的方式进行处理。而执行的方法a可以考虑使用try-catch-finally方式进行处理。</li>
</ul>
<h1 id="手动抛出异常：throw"><a href="#手动抛出异常：throw" class="headerlink" title="手动抛出异常：throw"></a>手动抛出异常：throw</h1><p>关于异常对象的产生有两种方式：</p>
<ol>
<li>系统自动生成的异常对象，如上面所学习的都是系统自动抛出的异常</li>
<li>手动的生成一个异常对象，并抛出（throw）</li>
</ol>
<p><img alt data-src="/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/13.jpg" class="lozad"></p>
<p>要区分<code>throw</code>和<code>throws</code>:</p>
<ul>
<li>throw表示<strong>抛出</strong>一个异常类的对象，生成异常对象的过程。声明在方法体内</li>
<li>throws属于异常<strong>处理</strong>的一种方式，声明在方法的声明处。</li>
</ul>
<p>通过一个小例子来理解下throw手动抛出一个异常对象的作用：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentTest</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			Student s = <span class="keyword">new</span> Student();</span><br><span class="line">			s.regist(-<span class="number">1001</span>);</span><br><span class="line">			System.out.println(s);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line"><span class="comment">//			e.printStackTrace();</span></span><br><span class="line">			System.out.println(e.getMessage());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">regist</span><span class="params">(<span class="keyword">int</span> id)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(id &gt; <span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">this</span>.id = id;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">//			System.out.println("您输入的数据非法！");</span></span><br><span class="line">			<span class="comment">//手动抛出异常对象</span></span><br><span class="line"><span class="comment">//			throw new RuntimeException("您输入的数据非法！");</span></span><br><span class="line"><span class="comment">//			throw new Exception("您输入的数据非法！");</span></span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> MyException(<span class="string">"不能输入负数"</span>);</span><br><span class="line">			<span class="comment">//错误的</span></span><br><span class="line"><span class="comment">//			throw new String("不能输入负数");</span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"Student [id="</span> + id + <span class="string">"]"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="用户自定义异常类"><a href="#用户自定义异常类" class="headerlink" title="用户自定义异常类"></a>用户自定义异常类</h1><p>我们上面使用的都是JAVA的API给我们提供好的异常类。其实我们也可以自定义自己的异常类。怎么去写？参考jdk源码的模样写就行了！自定义异常类需要遵循以下几点：</p>
<ul>
<li>一般地，用户自定义异常类都是<code>RuntimeException</code>的子类。 </li>
<li>自定义异常类通常需要编写几个重载的构造器。 </li>
<li>自定义异常需要提供<code>serialVersionUID</code>(是一个全局常量，可以理解为是对类的一个标识)</li>
<li>自定义的异常通过<code>throw</code>抛出。 </li>
<li>自定义异常最重要的是异常类的名字，当异常出现时，可以根据名字判断异常类型。</li>
</ul>
<p><img alt data-src="/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/16.jpg" class="lozad"></p>
<p><img alt data-src="/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/14.jpg" class="lozad"></p>
<hr>
<p>ps：只有异常体系的类能throw，其他的类是不能throw的</p>
<p>总结：</p>
<p><img alt data-src="/2019/12/24/JavaSE%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/15.jpg" class="lozad"></p>
<p>最后有一首有意思的小诗送给大伙：</p>
<blockquote>
<p>世界上最遥远的距离，是我在if里你在else里，似乎一直相伴又永远分离；<br>世界上最痴心的等待，是我当case你是switch，或许永远都选不上自己；<br>世界上最真情的相依，是你在try我在catch。无论你发神马脾气，我都默 默承受，静静处理。到那时，再来期待我们的finally</p>
</blockquote>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JavaSE/">JavaSE    </a><a class="post-meta__tags" href="/tags/java/">java    </a><a class="post-meta__tags" href="/tags/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/">异常处理    </a><a class="post-meta__tags" href="/tags/%E5%9F%BA%E7%A1%80/">基础    </a></div><div class="post_share"><div class="social-share" data-image="/img/cover_default2.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button"><i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lozad post-qr-code__img" src="/img/wechat.jpg"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lozad post-qr-code__img" src="/img/alipay.jpg"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull-left"><a href="/2020/01/20/C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E4%B9%8B%E6%8C%87%E9%92%88/"><img class="prev_cover lozad" data-src="/img/cover_default3.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>C语言基础之指针</span></div></a></div><div class="next-post pull-right"><a href="/2019/11/25/JavaSE%E4%B9%8B%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"><img class="next_cover lozad" data-src="/img/cover_default3.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>JavaSE之面向对象</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2019/11/25/JavaSE之面向对象/" title="JavaSE之面向对象"><img class="relatedPosts_cover lozad"data-src="/img/cover_default3.jpg"><div class="relatedPosts_title">JavaSE之面向对象</div></a></div><div class="relatedPosts_item"><a href="/2019/11/23/Java入门/" title="JavaSE基础篇"><img class="relatedPosts_cover lozad"data-src="/img/cover_default3.jpg"><div class="relatedPosts_title">JavaSE基础篇</div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div id="lv-container" data-id="city" data-uid="MTAyMC80NzI1MC8yMzc1MA=="><script>(function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script></div></div></div></div><footer style="background-image: url(/img/cover_default2.jpg)"><div id="footer"><div class="copyright">&copy;2019 - 2020 By Rhubarb C</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换">繁</a><i class="nightshift fa fa-moon-o" id="nightshift" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script src="/js/nightshift.js"></script><script id="ribbon" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/js/piao.js"></script><script color="0,0,255" opacity="0.7" zIndex="-1" count="99" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/js/canvas-nest.js"></script><script src="/js/activate-power-mode.js"></script><script>POWERMODE.colorful = true; // make power mode colorful
POWERMODE.shake = true; // turn off shake
document.body.addEventListener('input', POWERMODE);
</script><script src="/js/tw_cn.js"></script><script>translateInitilization()

</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@1.2.2/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script>const observer = lozad(); // lazy loads elements with default selector as '.lozad'
observer.observe();
</script></body></html>